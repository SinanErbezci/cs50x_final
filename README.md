# CS50X IDLE GAME
#### Video Demo:  <URL HERE>
#### Description:

### 1. Page Layout
The page contains several sections. From the top we have,
1. Game Title,
2. Profile (on the left), Course Syllabus (on the right),
3. Learning narrative (text animation),
4. Progress Bar,
5. Typing game,
6. Footer.
### 2. CSS Desing Choices
The style of the game is designed to be like a programming and hacking game. Therefore, the font is chosen as 'Space Mono' from [Google Fonts](https://fonts.google.com/specimen/Space+Mono). As [color palette](https://colorswall.com/palette/253906), this one is used and some additional purple and green neon coloring is added for emphasis. 

To demonstrate that learning progress is active, the buttons get background animation after they are clicked. Only one button is active at the same time. So if any button is clicked while a button is active, the background animation for the previous button is cleared. 

There are 11 weeks of course. Each of them includes the title and **Start Learning** button. Also, there is a **Reset button** above which has a different styling than other buttons. When the user hovers over the buttons, an outline appears on the buttons. 

When week progress is finished, the button gets different styling and becomes disabled so that the user can't start finished weeks. Also, the title of the week gets a green tick (which is an SVG image from FontAwesome).

For the progress bar, Bootstrap's progress bar is used. To fill the progress bar, the width of the element is modified each time the progress of the week is increased. Additionally, the inner HTML is updated. This is all done by the **updatebar** function.

The typing game is located below the progress bar. It has a thick border around it and also if it's focused, the border gets a purple color. If the user succesed typing the game, a green animation is shown, on failure red animation is shown. The correct letter gets a green color and the incorrect letter gets a red color. 

To give the game some narrative, a text animation is shown above the progress bar. The content of the text changes every 5 seconds. The animation shows the text, starting from 0% width to 100% width. So it makes text appear by steps.

### 3. Profile Section
The profile section is the visual side of the game. It doesn't affect gameplay. So after level up, there is no effect on learning progress.

There are 3 levels of programmer in this game. The profile pictures are generated by Bing AI Image Generator. Also, each level has its description.

The user starts as a beginner programmer. After a total of 3 and 9 weeks are finished, it levels up to mid-programmer and advanced programmer respectively. The profile picture and description are changed dynamically.

### 4. Game Initialization and Local Storage
Progress is saved after the game tab is closed and saved progress is loaded before any game functions. If the first time the game is started, all the progress is set to zero. Also, a pop-up is shown as a welcome to the game. Bootstrap **modal** is used for this. To show a pop-up on start, it needs to be called in JavaScript. 

Saving data to local storage and loading from the local storage is done by **JSON.stringfy and JSON.parse** functions respectively. 
There are some global variables that are used in different functions. 

Also, there is a **Reset Progress** which sets to progress value zero and also updates the document so that there is no green tick and no disabled button on the page.


### 5. Game loop
When a user clicks the **Start Learning** button, the game loop starts. So 11 buttons have event listeners which on click start the game loop function. Also at the start, if the user has previous progress, the profile and course syllabus are updated with **updateProfile and updateCheckMark** functions.

Only a maximum of one week of progress is run at the same time. Therefore the **active week** is stored at global variables. If there is an already week progress in the game and the user clicks and starts another one, the active week is replaced.

Game loops are done by **setInterval** functions. One important thing about intervals though, they need to be kept track of. So that after a week's progress is finished or another week is started, previous intervals are deleted. This is done by again adding them to a global variable. And each time a new game loop starts, the previous intervals are deleted. 

User gets fixed 0.5 points after each second. Also, if it is succeded typing game gives 5 points. If the week's progress reaches or exceeds 100 points, the game stops and the HTML is updated.

### 6. Typing Game
One of the major parts of the application is the typing game. The main algorithm is used from [Coding with Dawid](https://www.youtube.com/watch?v=E_tZH9R_zi8) and additional logic is added. As stated before, typing the game starts after the game progress is started. 5 lines from each week are used in the CS50X course. For example *printf("hello,world");*. **giveLine** class gives a line from a selected week. This line is randomly selected from 5 of the lines. 

After that, the line has to be formatted (**formatWord** function). It is separated character by character and put in a span element so that it can compared with user input. 

The main logic of the game is basically comparing user input with the current letter. The current letter is tracked by the current class. So it is initially at zero and each time the user gives keyboard input, it moves to the next span element. It is moved until it reaches the end of the line which is basically the length of the line. Also if the user uses **BackSpace** current letter moves back once until zero index. At zero index BackSpace input does nothing.

User input is obtained from the **keyup** event. Also, the game element has to be *focusable*, and this is done by giving **tabindex** property to the game element. Two things should be considered before comparing the user input with a current letter. The first thing is that some characters can be typed with SHIFT, ALT, etc keys. Therefore SHIFT and similar keys should be omitted. This is done by limiting the keyboard input length to 1. Secondly, there are some special characters in HTML such as *"&, <, >"*. So if the current element is one of them, the current letter is updated accordingly. 

If the user input is the same as a current letter, that letter element gets the *correct* class. On the contrary, the current letter gets *incorrect* class. Also if the user type Backspace, these two classes are deleted from that letter. If the user reaches the end of the line, all the letter elements are checked. If they are all correct, an animation is shown and the week's progress increases by 5 points. On opposite, no points are given. In both of the cases, **typGameStatus** is set to false so that a new typing game can be initiated. 

After all 11 weeks are finished, a pop-up is shown that says thank you for playing.
